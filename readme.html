<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/themes/prism.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.2.0/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@6.7.0"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.2.7"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.2.0/dist/index.umd.min.js"></script><script>(r => {
                setTimeout(r);
              })(() => {
  const {
    markmap,
    mm
  } = window;
  const toolbar = new markmap.Toolbar();
  toolbar.attach(mm);
  const el = toolbar.render();
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, data) => {
        const {
          Markmap
        } = getMarkmap();
        window.mm = Markmap.create('svg#mindmap', getOptions == null ? void 0 : getOptions(), data);
      })(() => window.markmap,null,{"t":"heading","d":1,"p":{"lines":[0,1]},"v":"node","c":[{"t":"heading","d":2,"p":{"lines":[2,3]},"v":"是什么","c":[{"t":"bullet_list","d":3,"p":{"lines":[4,9]},"v":"","c":[{"t":"list_item","d":4,"p":{"lines":[4,5]},"v":"chrome V8 runtime"},{"t":"list_item","d":4,"p":{"lines":[5,6]},"v":"事件驱动"},{"t":"list_item","d":4,"p":{"lines":[6,7]},"v":"非阻塞的 i/o(正常情况 i/o 都是阻塞的，比如网络请求、数据库处理、文件的读写)"},{"t":"list_item","d":4,"p":{"lines":[7,8]},"v":"优点：高并发特别好"}]},{"t":"heading","d":3,"p":{"lines":[9,10]},"v":"js 运行环境","c":[{"t":"list_item","d":5,"p":{"lines":[11,12]},"v":"浏览器","c":[{"t":"list_item","d":7,"p":{"lines":[12,13]},"v":"基本语法"},{"t":"list_item","d":7,"p":{"lines":[13,14]},"v":"BOM"},{"t":"list_item","d":7,"p":{"lines":[14,15]},"v":"DOM"},{"t":"list_item","d":7,"p":{"lines":[15,16]},"v":"ajax"},{"t":"list_item","d":7,"p":{"lines":[16,17]},"v":"系统文件、数据库(不能、处于安全性考虑)"}]},{"t":"list_item","d":5,"p":{"lines":[17,18]},"v":"服务器","c":[{"t":"list_item","d":7,"p":{"lines":[18,19]},"v":"基本语法"},{"t":"list_item","d":7,"p":{"lines":[19,20]},"v":"能操作数据库"},{"t":"list_item","d":7,"p":{"lines":[20,21]},"v":"能操作本地文件"}]}]},{"t":"heading","d":3,"p":{"lines":[24,25]},"v":"node 运行环境","c":[{"t":"list_item","d":5,"p":{"lines":[26,27]},"v":"REPL(在命令行直接写代码)"}]},{"t":"heading","d":3,"p":{"lines":[28,29]},"v":"模块化","c":[{"t":"bullet_list","d":4,"p":{"lines":[30,40]},"v":"","c":[{"t":"list_item","d":5,"p":{"lines":[30,31]},"v":"内置模块","c":[{"t":"list_item","d":7,"p":{"lines":[31,32]},"v":"文件操作 fs"},{"t":"list_item","d":7,"p":{"lines":[32,33]},"v":"url"}]},{"t":"list_item","d":5,"p":{"lines":[33,34]},"v":"第三方模块","c":[{"t":"list_item","d":7,"p":{"lines":[34,35]},"v":"邮箱验证码案例(nodemailer 可以实现发邮件)"}]},{"t":"list_item","d":5,"p":{"lines":[35,36]},"v":"自定义模块","c":[{"t":"list_item","d":7,"p":{"lines":[36,37]},"v":"创建模块(一个 js 文件就是一个模块)"},{"t":"list_item","d":7,"p":{"lines":[37,38]},"v":"导出模块(module.export = xxx)"},{"t":"list_item","d":7,"p":{"lines":[38,39]},"v":"引用模块(require(''))"}]}]},{"t":"heading","d":4,"p":{"lines":[40,41]},"v":"打印当前目录的目录树"},{"t":"heading","d":4,"p":{"lines":[42,43]},"v":"爬虫案例","c":[{"t":"paragraph","d":6,"p":{"lines":[43,46]},"v":"1.获取目标网站 http.get<br><br>\n2.分析网站内容  cheerio 可以使用jq里的选择器<br><br>\n3.获取有效信息 下载或其他操作"}]},{"t":"heading","d":4,"p":{"lines":[47,48]},"v":"javascript 事件驱动机制：单线程（带来阻塞问题）","c":[{"t":"paragraph","d":6,"p":{"lines":[49,51]},"v":"异步编程机制：<br> 1.只在主线程上运行 javascript 代码<br> 2.主线程启动就进入事件循环，整个过程不断循环，不断执行回调函数<br> 3.遇到网络请求、i/o 操作时，浏览器会单开工作线程来处理，并设置观察者，然后立即返回主线程，主线程继续执行下面的任务<br> 4.浏览器开的线程处理好任务或者有监听的事件后会用得到的数据形成一个事件，放在相应观察者的事件队列中，事件队列是在主线程中的<br> 5.主线程不断地循环，不断检查事件队列，通过遍历事件一次执行事件对应的回调函数<br><br>\n<a href=\"https://www.jianshu.com/p/3115def9e1fe\">参考</a>"}]},{"t":"heading","d":4,"p":{"lines":[52,53]},"v":"node 上运行的 javascript 相比后端开发语言优势","c":[{"t":"list_item","d":6,"p":{"lines":[54,56]},"v":"最大优势：借助 javascript 事件驱动机制加 v8 高性能引擎，编写高性能 web 服务<br>\n其次：javascipt 本身是完善的函数式语言，前端比较随意，但在 node 环境中，通过模块化的 javascript 代码，加上函数时编程，并且无需考虑浏览器兼容性问题。"}]},{"t":"heading","d":4,"p":{"lines":[57,58]},"v":"node 环境安装","c":[{"t":"list_item","d":6,"p":{"lines":[59,60]},"v":"从<a href=\"https://nodejs.org/en/\">Node.js 官网</a>下载对应的安装程序，安装时选择全部组件，包括勾选 Add to Path"},{"t":"list_item","d":6,"p":{"lines":[60,61]},"v":"安装完成 cmd 中输入 node -v，在此输入 node 即可进入 node.js 的交互环境，退出两次 ctrl+c"},{"t":"list_item","d":6,"p":{"lines":[61,62]},"v":"安装 supervisor cnpm i supervisor -g 启动 supervisor xxx.js"}]},{"t":"heading","d":4,"p":{"lines":[63,64]},"v":"第一个 node 程序","c":[{"t":"bullet_list","d":5,"p":{"lines":[65,67]},"v":"","c":[{"t":"list_item","d":6,"p":{"lines":[65,66]},"v":"第一行总是写上'use strict'，使用严格模式运行 javasctipt 代码，避免各种潜在陷阱（每个文件写'use strice'会很麻烦，可以给 nodejs 传递一个参数，让 node 直接为所有 js 文件开启严格模式）"}]},{"t":"fence","d":5,"v":"<pre class=\"language-js\"><code class=\"language-js\">node <span class=\"token operator\">--</span>use_strice <span class=\"token operator\">**</span><span class=\"token operator\">*</span>\n</code></pre>\n"},{"t":"bullet_list","d":5,"p":{"lines":[71,74]},"v":"","c":[{"t":"list_item","d":6,"p":{"lines":[71,72]},"v":"运行 node ***.js，文件名称必须式英文字母、数字和下划线组合"},{"t":"list_item","d":6,"p":{"lines":[72,73]},"v":"开发环境 vs code，打开文件点击左侧调试，配置 launch.json 文件"}]},{"t":"fence","d":5,"v":"<pre class=\"language-js\"><code class=\"language-js\">\n    <span class=\"token string-property property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.2.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"configurations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string-property property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Run hello.js\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"request\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"launch\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"program\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${workspaceRoot}/hello.js\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"stopOnEntry\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"args\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"cwd\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${workspaceRoot}\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"preLaunchTask\"</span><span class=\"token operator\">:</span> <span class=\"token keyword null nil\">null</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"runtimeExecutable\"</span><span class=\"token operator\">:</span> <span class=\"token keyword null nil\">null</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"runtimeArgs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token string\">\"--nolazy\"</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"env\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token string-property property\">\"NODE_ENV\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"development\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"externalConsole\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"sourceMaps\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"outDir\"</span><span class=\"token operator\">:</span> <span class=\"token keyword null nil\">null</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n"}]},{"t":"heading","d":4,"p":{"lines":[102,103]},"v":"模块","c":[{"t":"list_item","d":6,"p":{"lines":[104,105]},"v":"nodejs 中一个.js 称为一个模块 module"},{"t":"list_item","d":6,"p":{"lines":[105,106]},"v":"好处： 1.大大提高代码的可维护性 2.每个模块编写完毕，就能被其他地方引用，包括 node 内置模块和第三方模块 3.可避免函数名和变量名冲突，相同名字的函数和变量可以分别存在不同的模块中"},{"t":"list_item","d":6,"p":{"lines":[106,107]},"v":"函数 greet 作为模块的输出暴露出去，这样其他模块就可以使用 greet 函数"},{"t":"list_item","d":6,"p":{"lines":[110,111]},"v":"引用 变量 greet 就是在 hello.js 中我们 module.exports = greet;输出的 greet 函数"},{"t":"list_item","d":6,"p":{"lines":[114,116]},"v":"CommonJS 规范<br>\n这种模块加载机制被称为 COmmonJS 规范，每个.js 都是一个模块，模块间变量和函数不冲突，对外暴露 modele.exports，可以时任意对象、函数、数组等，引用 let xxx = require('module_name')"},{"t":"list_item","d":6,"p":{"lines":[116,118]},"v":"深入了解模块原理<br>\njavascript 语言本身并没有一种模块机制来保证不同模块可以使用相同的变量名，nodejs 实现方式：不需要增加任何 javascript 语法；javascript 是函数式编程，支持闭包，如果把一段 javascript 代码用一个函数包装起来，这段代码的’全局‘变量就变成了函数内部的局部变量"},{"t":"list_item","d":6,"p":{"lines":[155,158]},"v":"module.exporets vs exports<br>\n如果要输出一个键值对象{}，可以利用 exports 这个已存在的空对象{}，并继续在上面添加新的键值；<br>\n如果要输出一个函数或数组，必须直接对 module.exports 对象赋值"}]},{"t":"heading","d":4,"p":{"lines":[159,160]},"v":"基本模块","c":[{"t":"list_item","d":6,"p":{"lines":[161,162]},"v":"nodeJs 是运行在服务区端的 javascript 环境，与浏览器相比无安全限制，且必须能接收网络请求、读写文件、 处理二进制内容，所以 nodejs 常用模块实现基本的服务器功能"},{"t":"list_item","d":6,"p":{"lines":[162,170]},"v":"<strong>global 全局对象</strong>（不是所有变量都是全局变量，有些变量只作用于模块内部）<br>\nmodule(_dirname,_filename,exports,require())不是全局变量<br>\nglobal 全局的命名空间对象，将顶层作用域限制在模块内，使 var 之作用在模块内<br>\nTimer(clearImmediate() , clearInterval(), clearTimeout(), setImmediate(), setInterval(), setTimeout())为全局模块，可以不用 require 并且作用于全局<br>\nBuffer 用来处理二进制流读取和转换的模块<br>\nprocess 对象是全局变量，它提供当前 Nodejs 进程相关信息<br>\nconsole 模块提供简单的调试控制台<br>\nurl 模块提供一些函数，用于 url 解析和处理"},{"t":"list_item","d":6,"p":{"lines":[170,173]},"v":"<strong>fs 模块</strong> 文件系统模块，负责读写文件<br>\n与其他模块不同的是，fs 模块同时提供异步和同步的方法<br>\nNodejs 标准回调函数，第一个 err 参数错误信息，第二个参数结果，err 是否为 null 是判断是否出错的标志"},{"t":"list_item","d":6,"p":{"lines":[173,177]},"v":"<strong>stream</strong> 是 Nodejs 提供又一个仅在服务器端可用的模块，目的是支持“流”这个数据结构 + 数据流(必须是有序的，依次读取或依次写入)<br>\n比如敲键盘每个字符依次连起来就是字符流，从键盘输入到应用程序，还对应一个名字：标准输入流(stdin)<br>\n应用程序把字符输出到显示器上，为标准输出流(stdout)<br>\n读取时，可以打开一个流，然后从文件流不断读取数据；写入时，将数据不断地往文件中写"},{"t":"list_item","d":6,"p":{"lines":[177,180]},"v":"<strong>http模块</strong> nodejs 目的是为了用 javascript 编写 web 服务器程序 + http 服务器(操作 http 模块提供的 request 和 response 对象)<br>\nrequest 封装了 HTTP 请求，调用 request 对象的属性和方法就能拿到所有的 HTTP 请求的信息<br>\nresponse 封装了 HTTP 响应，操作 response 对象的方法，就可以把 HTTP 响应返回给浏览器"},{"t":"list_item","d":6,"p":{"lines":[180,181]},"v":"crypto 提供通用的加密和哈希算法"}]},{"t":"heading","d":4,"p":{"lines":[182,183]},"v":"web 开发","c":[{"t":"list_item","d":6,"p":{"lines":[184,185]},"v":"Express 是第一代流行的 web 框架，它对 Nodejs 的 http 模块进行了封装，基于 es5 的语法，要实现异步代码，只能回调"},{"t":"list_item","d":6,"p":{"lines":[185,186]},"v":"koa1.0 express 的团队基于 es6 的 generator 重新编写，与 express 不同，koa1.0 基于 generator 实现异步"}]}]}]}]})</script>
</body>
</html>
